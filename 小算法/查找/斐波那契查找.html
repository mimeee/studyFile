<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>斐波那契查找</title>
</head>
<body>
	<script>

		console.log(fibonacci_search([1,3,4,9,12,20,25,40,44],44))
		// console.log(fibo_array(20))
		
		function fibo_array(n){
			var arr = [];
			for(var i = 0; i < n;i++){
				arr.push( fibonacci(i) );
			}
			return arr;
		}


		function fibonacci(n){
			if(n === 0) return 1;
			if(n === 1) return 1;			
			return fibonacci(n-1) + fibonacci(n-2);
		}


		function fibonacci_search( arr, target ){
			var len = arr.length;
			var fibo = fibo_array(20);
			var k = 0;
			while( len > fibo[k] - 1 ) k++;
			
			for(var i = len; i< fibo[k] - 1;i++){
				arr[i] = arr[len - 1];
			}

			var low = 0;
			var high = len - 1 ;
			while(low <= high){
				var mid = low + (fibo[k-1]-1)

				
				if( arr[mid]  === target){
					return mid;
				}else if(arr[mid] > target){
					high = mid - 1;
					k -= 1;					
				}else if(arr[mid] < target){
					low = mid + 1;
					k -= 2;
				}
				
			}


		}

	</script>
</body>
</html>